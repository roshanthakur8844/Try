<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>PracticalHub ðŸ“š</title>

<!-- Barba.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/barba.js/1.0.0/barba.min.js"></script>

<style>
:root{
  --primary:#6366f1;
  --secondary:#ec4899;
  --bg:#f8fafc;
  --card:#ffffff;
  --text:#0f172a;
}
body.dark{
  --bg:#0f172a;
  --card:#1e293b;
  --text:#f8fafc;
}
*{margin:0;padding:0;box-sizing:border-box;}
body{
  font-family:Segoe UI, sans-serif;
  background:linear-gradient(135deg,var(--bg),#e0e7ff);
  color:var(--text);
  min-height:100vh;
  transition:.4s;
}
header{
  padding:1rem 2rem;
  display:flex;
  justify-content:space-between;
  align-items:center;
  backdrop-filter:blur(10px);
}
.logo{
  font-size:1.6rem;
  font-weight:800;
  background:linear-gradient(135deg,var(--primary),var(--secondary));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
button{
  border:none;
  padding:.6rem 1rem;
  border-radius:8px;
  cursor:pointer;
  font-weight:600;
}
.primary{
  background:linear-gradient(135deg,var(--primary),#7c3aed);
  color:white;
}
.secondary{
  background:rgba(99,102,241,.1);
  color:var(--primary);
}
.container{
  max-width:1100px;
  margin:auto;
  padding:2rem;
}
.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:2rem;
}
.card{
  background:var(--card);
  border-radius:16px;
  padding:1.5rem;
  box-shadow:0 10px 25px rgba(0,0,0,.08);
  animation:fadeUp .6s ease;
}
@keyframes fadeUp{
  from{opacity:0;transform:translateY(30px);}
  to{opacity:1;transform:translateY(0);}
}
input,select,textarea{
  width:100%;
  padding:.7rem;
  border-radius:8px;
  border:2px solid rgba(99,102,241,.2);
  margin-top:.4rem;
  margin-bottom:1rem;
  background:transparent;
  color:var(--text);
}
textarea{min-height:120px;font-family:monospace;}
.practicals{
  margin-top:3rem;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
  gap:1.5rem;
}
.practical{
  background:var(--card);
  border-radius:14px;
  padding:1rem;
  position:relative;
  animation:fadeUp .5s ease;
}
.badge{
  background:linear-gradient(135deg,var(--primary),var(--secondary));
  color:white;
  font-size:.7rem;
  padding:.3rem .7rem;
  border-radius:20px;
}
.actions{
  display:flex;
  gap:.5rem;
  margin-top:1rem;
}
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.5);
  display:none;
  align-items:center;
  justify-content:center;
}
.modal.active{display:flex;}
.modal-content{
  background:var(--card);
  padding:2rem;
  border-radius:16px;
  max-width:600px;
  max-height:80vh;
  overflow:auto;
}
.code{
  background:rgba(0,0,0,.1);
  padding:1rem;
  border-radius:8px;
  font-family:monospace;
  font-size:.85rem;
}
.toast{
  position:fixed;
  bottom:20px;
  right:20px;
  background:#10b981;
  color:white;
  padding:1rem 1.5rem;
  border-radius:10px;
  animation:fadeUp .4s;
}
@media(max-width:768px){
  .grid{grid-template-columns:1fr;}
}
</style>
</head>

<body>
<header>
  <div class="logo">ðŸ“š PracticalHub</div>
  <button id="theme">ðŸŒ™</button>
</header>

<div class="container barba-wrapper">
<div id="barba-container">

<div class="grid">
<div class="card">
<h2>âž• Add Practical</h2>
<form id="form">
<select id="subject" required>
<option value="">Select Subject</option>
<option>Web Development</option>
<option>Java</option>
<option>Python</option>
<option>DBMS</option>
<option>DSA</option>
</select>
<input id="title" placeholder="Practical Title" required>
<textarea id="code" placeholder="Paste your code..." required></textarea>
<input type="file" id="shot" accept="image/*">
<button class="primary" style="width:100%">Save Practical</button>
</form>
</div>

<div class="card">
<h2>âš™ Backup</h2>
<button class="primary" onclick="exportData()">ðŸ“¥ Export</button>
<button class="secondary" onclick="document.getElementById('import').click()">ðŸ“¤ Import</button>
<input type="file" id="import" hidden>
<p style="margin-top:1rem">No Gmail. No confusion. One click access ðŸ˜Œ</p>
</div>
</div>

<h2 style="margin-top:3rem">ðŸ“‹ Your Practicals</h2>
<div class="practicals" id="list"></div>

</div>
</div>

<!-- Modal -->
<div class="modal" id="modal">
<div class="modal-content">
<h3 id="mTitle"></h3>
<p id="mSub"></p>
<div class="code" id="mCode"></div>
<img id="mImg" style="max-width:100%;margin-top:1rem;border-radius:10px">
<button class="secondary" onclick="closeModal()">Close</button>
</div>
</div>

<script>
let data=JSON.parse(localStorage.getItem("practicals")||"[]");

Barba.Pjax.start();

document.getElementById("theme").onclick=()=>{
document.body.classList.toggle("dark");
};

document.getElementById("form").onsubmit=async e=>{
e.preventDefault();
const p={
id:Date.now(),
subject:subject.value,
title:title.value,
code:code.value,
img:shot.files[0]?await toBase64(shot.files[0]):null
};
data.push(p);
save();
form.reset();
toast("Saved Successfully âœ…");
};

function save(){
localStorage.setItem("practicals",JSON.stringify(data));
render();
}

function render(){
list.innerHTML="";
data.forEach(p=>{
list.innerHTML+=`
<div class="practical">
<span class="badge">${p.subject}</span>
<h4>${p.title}</h4>
<div class="actions">
<button class="primary" onclick="view(${p.id})">View</button>
<button class="secondary" onclick="del(${p.id})">Delete</button>
</div>
</div>`;
});
}
render();

function view(id){
const p=data.find(x=>x.id===id);
mTitle.innerText=p.title;
mSub.innerText=p.subject;
mCode.innerText=p.code;
mImg.src=p.img||"";
modal.classList.add("active");
}
function closeModal(){modal.classList.remove("active");}
function del(id){
data=data.filter(p=>p.id!==id);
save();
toast("Deleted ðŸ—‘ï¸");
}
function exportData(){
const a=document.createElement("a");
a.href=URL.createObjectURL(new Blob([JSON.stringify(data)]));
a.download="practicals.json";
a.click();
}
import.onchange=e=>{
const r=new FileReader();
r.onload=()=>{
data=JSON.parse(r.result);
save();
toast("Imported ðŸ“¤");
};
r.readAsText(e.target.files[0]);
};
function toBase64(f){
return new Promise(res=>{
const r=new FileReader();
r.onload=()=>res(r.result);
r.readAsDataURL(f);
});
}
function toast(msg){
const t=document.createElement("div");
t.className="toast";
t.innerText=msg;
document.body.appendChild(t);
setTimeout(()=>t.remove(),3000);
}
</script>
</body>
</html>
